# Services

## **Kubernetes Services lÃ  gÃ¬?**

LÃ  má»™t resouce sáº½ táº¡o ra má»™t single, constant point cá»§a má»™t nhÃ³m Pod phÃ­a sau nÃ³. Má»—i service sáº½ cÃ³ má»™t Ä‘á»‹a chá»‰ IP vÃ  port khÃ´ng Ä‘á»•i, trá»« khi ta xÃ³a nÃ³ Ä‘i vÃ  táº¡o láº¡i. Client sáº½ má»Ÿ connection tá»›i service, vÃ  connection Ä‘Ã³ sáº½ Ä‘Æ°á»£c dáº«n tá»›i má»™t trong nhá»¯ng Pod á»Ÿ phÃ­a sau.

![Untitled](Services%2040e8923af2b54fd99159164b25242be5/Untitled.png)

**Váº­y service giÃºp ta nhá»¯ng váº¥n Ä‘á» gÃ¬? Má»—i tháº±ng Pod nÃ³ cÅ©ng cÃ³ Ä‘á»‹a chá»‰ IP riÃªng cá»§a nÃ³, sao ta khÃ´ng gá»i tháº³ng nÃ³ luÃ´n mÃ  thÃ´ng qua service chi cho máº¥t cÃ´ng?**

## **Pods are ephemeral**

CÃ³ nghÄ©a Pod lÃ  má»™t resource ráº¥t phÃ¹ du, nÃ³ sáº½ Ä‘Æ°á»£c táº¡o ra, bá»‹ xÃ³a, vÃ  thay tháº¿ báº±ng má»™t tháº±ng khÃ¡c báº¥t cá»© lÃºc nÃ o, cÃ³ thá»ƒ lÃ  lÃºc ta muá»‘n Ä‘á»•i má»™t template khÃ¡c cho Pod, Pod cÅ© sáº½ bá»‹ xÃ³a Ä‘i vÃ  Pod má»›i sáº½ Ä‘Æ°á»£c táº¡o ra. Hoáº·c lÃ  trÆ°á»ng há»£p má»™t woker node die, Pod trÃªn worker node Ä‘Ã³ cÅ©ng sáº½ die theo, vÃ  má»™t Pod má»›i sáº½ Ä‘Æ°á»£c táº¡o ra trÃªn woker node khÃ¡c.

Khi táº¡o tháº±ng pod má»›i táº¡o ra, nÃ³ sáº½ cÃ³ má»™t IP khÃ¡c vá»›i tháº±ng cÅ©. Náº¿u ta dÃ¹ng IP cá»§a Pod Ä‘á»ƒ táº¡o connection tá»›i client thÃ¬ lÃºc Pod Ä‘Æ°á»£c thay tháº¿ vá»›i IP khÃ¡c thÃ¬ ta pháº£i update láº¡i code.

## **Multiple Pod run same application**

CÃ³ nghÄ©a lÃ  ta sáº½ cÃ³ nhiá»u pod Ä‘ang cháº¡y má»™t á»©ng dá»¥ng cá»§a chÃºng ta Ä‘á»ƒ tÄƒng performance. VÃ­ dá»¥ khi ta dÃ¹ng ReplicaSet vá»›i replicas = 3, nÃ³ sáº½ táº¡o ra 3 Pod. Váº­y lÃ m sao ta biáº¿t Ä‘Æ°á»£c nÃªn gá»­i request tá»›i Pod nÃ o?

**ThÃ¬ Ä‘á»ƒ giáº£i quyáº¿t nhá»¯ng váº¥n Ä‘á»ƒ trÃªn thÃ¬ Kubernetes cung cáº¥p cho chÃºng ta Services resource**, Service sáº½ táº¡o ra má»™t endpoint khÃ´ng Ä‘á»•i cho cÃ¡c Pod phÃ­a sau, client chá»‰ cáº§n tÆ°Æ¡ng tÃ¡c vá»›i endpoint nÃ y.

## **Service quáº£n lÃ½ connection nhÆ° tháº¿ nÃ o?**

LÃ m sao Service biáº¿t Ä‘Æ°á»£c nÃ³ sáº½ chá»n Pod nÃ o Ä‘á»ƒ quáº£n lÃ½ connection tá»›i nhá»¯ng Pod Ä‘Ã³, náº¿u cÃ²n nhá»›Â **label selectors** vÃ  cÃ¡ch ReplicaSet sá»­ dá»¥ng label Ä‘á»ƒ quáº£n lÃ½ Pod. ThÃ¬ Services cÅ©ng sáº½ sá»­ dá»¥ng label selectors Ä‘á»ƒ chá»n Pod mÃ  nÃ³ quáº£n lÃ½ connection.

![Untitled](Services%2040e8923af2b54fd99159164b25242be5/Untitled%201.png)

Service sáº½ cÃ³ 4 loáº¡i cÆ¡ báº£n lÃ :

- ClusterIP
- NodePort
- ExternalName
- LoadBalancer

## CÃ¡c lá»‡nh tÆ°Æ¡ng tÃ¡c vá»›i Services

1. Get services

<aside>
ğŸ’¡ kubectl get svc

</aside>

1. 

[**ClusterIP**](Services%2040e8923af2b54fd99159164b25242be5/ClusterIP%208991cfff19fa47ef8f8f0e9e45200c71.md)

[NodePort](Services%2040e8923af2b54fd99159164b25242be5/NodePort%20e87615abbbb34b1b83ac50ea6824cb1c.md)

[**LoadBalancer**](Services%2040e8923af2b54fd99159164b25242be5/LoadBalancer%20afb6291bf7f84828818b95639c5da0bd.md)

[**ExternalName**](Services%2040e8923af2b54fd99159164b25242be5/ExternalName%20be9723d63ecf4f24a8f7fba164186d45.md)